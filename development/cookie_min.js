function doesCookieExist(){if(typeof $.cookie("vsaSession")==="undefined"){return false}else{return true}}function buildCookieIDArrays(){var e=cookie["enrollments"].length;for(z=0;z<e;z++){cookieCourseIDArray.push(cookie["enrollments"][z]["courseId"]);cookieInstructorIDArray.push(cookie["enrollments"][z]["instructorId"])}}function evaluatePrototypes(e,t,n){for(var r=1;r<5;r++){(function(){if(evaluateID(e[r].courseIDs,t)==false){return false}if(evaluateID(e[r].instructorIDs,n)==false){return false}if(evaluateCriteria(e[r].criteria)==false){return false}activePrototypeArray.push(e[r])})()}if(activePrototypeArray.length===0){if(isDebugging){console.log(activePrototypeArray.length+" active prototypes")}return false}if(activePrototypeArray.length==1){if(isDebugging){console.log(activePrototypeArray.length+" active prototype.")}return activePrototypeArray[0]}if(activePrototypeArray.length>1){if(isDebugging){console.log(activePrototypeArray.length+" active prototypes...that is too many.")}return false}}function evaluateID(e,t){if(isDebugging){console.log("evaluating "+e+" and "+t)}var n=0;if(Array.isArray(e)){for(var r=0;r<e.length;r++){if(Array.isArray(t)){for(var i=0;i<t.length;i++){if(isDebugging){console.log("deep in loop, cookieID is "+t[i])}if(e[r]==t[i]){if(isDebugging){console.log("match found "+e[r]+" and cookieID "+t[i])}n++}else{if(isDebugging){console.log("no match "+e[r]+" and cookieID "+t[i])}}}}}}else{if(isDebugging){console.log("not an array, apparently")}}if(n===0){return false}}function evaluateCriteria(e){if(isDebugging){console.log("Criteria is "+e)}var t=parseInt(cookie["user"]["userId"].substr(6,10));var n=t%2;if(isDebugging){console.log("userIdModulusTwo is "+n)}if(e==true){return true}else if(e=="even"){if(n==0){console.log("return true");return true}else{console.log("return false");return false}}else if(e=="odd"){if(n!=0){console.log("return true");return true}else{console.log("return false");return false}}else{console.log("criteria: "+e);console.log("Criteria doesn't exist in current criteria options. Check your spelling!");return false}}function detectmob(){if(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)){return true}else{return false}}function checkDevelopmentMode(e,t){if(!requireCookie){if(isDebugging){console.log("A cookie is not required for the prototype to display.")}else{if(isDebugging){console.log("A cookie IS required for the prototype to display.")}}getPrototype(e,t)}}function getPrototype(e,t){$.getScript(e,function(){if(isDebugging){console.log(t)}})}console.log("development");var requireCookie=true;var isDebugging=true;var developmentModePrototypeLink="";var developmentModeConsoleMessageOnLaunch="";var mobileDevice=false;var cookieCourseIDArray=[];var cookieInstructorIDArray=[];var activePrototypeArray=[];var prototypes={prototypeList:{1:{type:"ab",courseIDs:[4259],instructorIDs:[1212249],prototypeLink:"https://reinvention.flvs.net/plapp/development/pla_app.js",criteria:"even",consoleMessageOnLaunch:"You're getting the A version of PLA.",active:false},2:{type:"ab",courseIDs:[4259],instructorIDs:[1212249],prototypeLink:"https://reinvention.flvs.net/plapp/development/pla_app.js",criteria:"odd",consoleMessageOnLaunch:"You're getting the B version of PLA.",active:false},3:{type:"feature",courseIDs:[4025],instructorIDs:[1891487,1408081,1855468],prototypeLink:"https://reinvention.flvs.net/plapp/live/pla_app.js",consoleMessageOnLaunch:"",criteria:true,active:false},4:{type:"feature",courseIDs:[8888],instructorIDs:[1212249],prototypeLink:"https://reinvention.flvs.net/plapp/development/pla_app.js",consoleMessageOnLaunch:"",criteria:true,active:false},5:{type:"ab",courseIDs:[9999],instructorIDs:[1212249],prototypeLink:"https://reinvention.flvs.net/plapp/development/pla_app.js",criteria:"7th digit of cookie['enrollments'][i]['courseId'] is even",consoleMessageOnLaunch:"",active:false},6:{type:"ab",courseIDs:[6666],instructorIDs:[1212249],prototypeLink:"https://reinvention.flvs.net/plapp/development/pla_app.js",criteria:"cookie['enrollments'][i]['courseId'].substr(id.length - 1) is odd",consoleMessageOnLaunch:"",active:false}}};!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(e){function t(e){return u.raw?e:encodeURIComponent(e)}function n(e){return u.raw?e:decodeURIComponent(e)}function r(e){return t(u.json?JSON.stringify(e):String(e))}function i(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(o," ")),u.json?JSON.parse(e):e}catch(t){}}function s(t,n){var r=u.raw?t:i(t);return e.isFunction(n)?n(r):r}var o=/\+/g,u=e.cookie=function(i,o,l){if(void 0!==o&&!e.isFunction(o)){if(l=e.extend({},u.defaults,l),"number"==typeof l.expires){var p=l.expires,v=l.expires=new Date;v.setTime(+v+864e5*p)}return document.cookie=[t(i),"=",r(o),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var m=i?void 0:{},g=document.cookie?document.cookie.split("; "):[],y=0,w=g.length;w>y;y++){var E=g[y].split("="),S=n(E.shift()),x=E.join("=");if(i&&i===S){m=s(x,o);break}i||void 0===(x=s(x))||(m[S]=x)}return m};u.defaults={},e.removeCookie=function(t,n){return void 0===e.cookie(t)?!1:(e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t))}});$(document).ready(function(){checkDevelopmentMode();if(doesCookieExist()){cookie=jQuery.parseJSON($.cookie("vsaSession"));mobileDevice=detectmob();buildCookieIDArrays();prototypeToLaunch=evaluatePrototypes(prototypes.prototypeList,cookieCourseIDArray,cookieInstructorIDArray);if(!prototypeToLaunch){console.log("Nothing to launch")}else if(mobileDevice){console.log("Will not launch for mobile devices.")}else{console.log("should launch now, link:"+prototypeToLaunch.prototypeLink+" and message "+prototypeToLaunch.consoleMessageOnLaunch);getPrototype(prototypeToLaunch.prototypeLink,prototypeToLaunch.consoleMessageOnLaunch)}}else{if(isDebugging){console.log("Cookie does not exist")}}})